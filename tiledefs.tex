\providecommand\qm{?}
\newcommand\deftile[5][\normalscale]{% [scale]\ladder{4}{Ladders}{coordinates}
  %                          #1     #2   #3    #4         #5
  \newsavebox#2%
  \begin{lrbox}{0\null\global\setbox#2}
  \begin{tikzpicture}[x=0.2pt,y=0.2pt]
  \node[anchor=south,inner sep=0] (image) at (0,0)
       {\includegraphics*[scale=#1,viewport=#5]{\tilejpg}};
  \node[anchor=north] (0, -1000) {\ttitle{#3}{#4}};
  \end{tikzpicture}
  \end{lrbox}
}
\WithSuffix\newcommand\deftile*[5][\normalscale]{%
  \begingroup\let\ttitle=\narrowtitle\deftile[#1]{#2}{#3}{#4}{#5}\endgroup}

\def\tilejpg{terrain-000.jpg}

\deftile\poisontrap    6 {Poison Gas Trap{\qm}} {80 2350 550 2800}
\deftile\spiketrap     6 {Spike Trap{\qm}} {620 2330 1100 2750}
\deftile\beartrap      6 {Bear Trap{\qm}} {1660 2280 2100 2800}


\def\tilejpg{terrain-001.jpg}


\deftile\icyspikes   {10} {Icy Spikes{\qm}} {150 2180 620 2650}
\deftile*\rubble       {6} {Rubble}      {650 2180 1180 2650}
\deftile\stalagmites  {6} {Stalagmites} {1200 2200 1720 2660}
\deftile\water       {10} {Water} {1720 2170 2180 2650}
\deftile[\normalscale,angle=158]\icepillar     9  {Ice Pillar} {2215 2220 2540 2680}
\deftile\nest          4  {Nest{\qm}}      {2600 2230 3060 2700}
\deftile\snowrock      5  {Snow Rock}  {3140 2280 3550 2700}

{\let\tilefont=\large
\deftile*\goldenorb     {}  {Glowing Orb{\qm}} {100 1580 520 2020}
}

\deftile\debris        5  {Debris} {620 1600 1120 2080}
\deftile*\ladder        4  {Ladder{\qm}} {1230 1650 1620 2060}
\deftile\snowdrift     6  {Snow Drift} {1740 1520 2150 2000}
\deftile\lavapit       6  {Lava{\qm}}  {2200 1640 2650 2100}
\deftile*\pressureplate 4  {Pressure Plate{\qm}} {2685 1640 3185 2100}

\deftile\cavedoor      4  {Cave Door{\qm}} {70 1010 620 1520}
\deftile[\normalscale,angle=3]\dungcor       3  {Dungeon Corridor{\qm}} {640 1030 1160 1530}
\deftile[\normalscale,angle=-8]\snowcor     {10} {Snow/Ice Corridor} {1170 930 1680 1420}
\deftile\snowdoor     {6} {Snow Door}     {1680 980 2180 1470}

{\let\tilefont=\large
\deftile*\crate         4  {Crate}   {160 5 480 450}
\deftile*\metalcab      4  {Metal Cabinet} {570 30 1010 380}
\deftile*\barrels       2  {Barrels}  {1100 0 1520 410}
\deftile*\post          {}  {Mast{\qm}}    {1970 0 2280 440}
}
\deftile*\altar         6  {Altar}   {1580 1 1900 400}
\deftile\metaldoor     4  {Metal Door}   { 2260 0 2710 320}
\deftile*\dundoor       5  {Dungeon Door} { 2790 5 3220 380}

\def\tilejpg{terrain-002.jpg}

\deftile[\normalscale,angle=-90]\largewater    4  {Large Water} {100 1920 640 2860}
\deftile\console       4  {Control Panel{\qm}} {640 2480 1580 2860}
\deftile\largerocks    6  {Large Rock{\qm}} {1600 2450 2500 2860}
\deftile\bookshelf     6  {Book Shelf} {2610 2540 3480 2860}

\deftile\sarcophagus   5  {Sarcophagus} {700 1980 1660 2410}
\deftile\conduit       6  {Power Conduit{\qm}} { 1660 2150 2600 2400}
\deftile\logtile       4  {Log} { 2700 2020 3600 2480}

\deftile\bblob         4  {Ice Rock{\qm}} {1640 1560 2570 1970}
\deftile\largedebris   4  {Large Debris} {2720 1500 3620 1990}

\deftile\barricade     6  {Barricade} {670 1100 1620 1490}
\deftile\supplyshelf   3  {Supply Shelf} {1680 1120 2500 1500}

\deftile[\normalscale,angle=-90]\lgcorrA       4  {Large Cave Corridor{\qm}} {210 70 800 1020}
\deftile[\normalscale,angle=-90]\lgcorrB       3  {Large Dungeon Corridor{\qm}} {840 70 1420 1040}
\deftile[\normalscale,angle=-90]\lgsnow        6  {Large Snow Corridor} {1480 70 2080 1040}
\deftile[\normalscale,angle=-90]\lgcorrD       4  {Large Corridor D{\qm}} {2100 70 2700 1040}

\def\tilejpg{annotated-002.jpg}

\deftile[\normalscale,angle=-90]\lgcorrE       4  {Large Ice Corridor{\qm}} { 110 1700 700 2660}
\deftile[\normalscale,angle=-90]\corrB         4  {Dungeon Corridor{\qm}} { 870 1560 1480 2080}

\def\tilejpg{terrain-004.jpg}

\deftile[\bigscale]\lgice         1 {Large Ice Crystal} { 180 1900 1060 2750}
\deftile[\bigscale]\hugewater     1 {Huge Water} {250 180 1160 1030}
\deftile[\bigscale]\lgtree         3 {Snow-Covered Spruce Tree{\qm}} { 2680 100 3480 900}

\def\tilejpg{treasure-000.jpg}

{\let\tilefont=\large
\deftile*[\normalscale,angle=5]\treasure 5 {Treasure Chest} {1780 1220 2260 1500}
}
